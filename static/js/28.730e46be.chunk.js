(this["webpackJsonpshlok-zanwar"]=this["webpackJsonpshlok-zanwar"]||[]).push([[28],{1165:function(e,n,i){"use strict";i.r(n),i.d(n,"default",(function(){return j}));var s=i(2),t=i(42),r=i(28),a=i(1),c=i(166),o=i(876),l=i(429),d=i(1056),f=i.n(d),u=o.a.Option;function j(){var e=Object(a.useState)({rows:10,cols:10,mines:10}),n=Object(r.a)(e,2),i=n[0],d=n[1],j=Object(a.useState)({gameOver:!1,gameWon:!1}),m=Object(r.a)(j,2),g=m[0],v=m[1],O=Object(a.useState)(0),b=Object(r.a)(O,2),h=b[0],p=b[1],x=Object(a.useState)(0),M=Object(r.a)(x,2),w=M[0],y=M[1],R=Object(a.useState)([]),S=Object(r.a)(R,2),F=S[0],W=S[1],k=function(e){for(var n=0;n<i.rows;n++)for(var s=0;s<i.cols;s++)if(!e[n][s].isMine){var t=0;n>0&&s>0&&e[n-1][s-1].isMine&&t++,n>0&&e[n-1][s].isMine&&t++,n>0&&s<i.cols-1&&e[n-1][s+1].isMine&&t++,s>0&&e[n][s-1].isMine&&t++,s<i.cols-1&&e[n][s+1].isMine&&t++,n<i.rows-1&&s>0&&e[n+1][s-1].isMine&&t++,n<i.rows-1&&e[n+1][s].isMine&&t++,n<i.rows-1&&s<i.cols-1&&e[n+1][s+1].isMine&&t++,e[n][s].neighborMines=t}return e},z=function(){for(var e=[],n=0;n<i.rows;n++){e.push([]);for(var s=0;s<i.cols;s++)e[n].push({isMine:!1,neighborMines:0,isRevealed:!1,isFlagged:!1})}return function(e){for(var n=0;n<i.mines;){var s=Math.floor(Math.random()*i.rows),t=Math.floor(Math.random()*i.cols);e[s][t].isMine||(e[s][t].isMine=!0,n++)}return k(e)}(e)},N=function(){W(z()),p(0),y(0),v({gameOver:!1,gameWon:!1})};Object(a.useEffect)((function(){N()}),[i]),Object(a.useEffect)((function(){h===i.rows*i.cols-i.mines&&v({gameOver:!1,gameWon:!0})}),[h]);var B=function(e,n,s){if(e.preventDefault(),!(F[n][s].isRevealed||F[n][s].isFlagged||g.gameOver||g.gameWon))if(F[n][s].isMine)!function(){for(var e=Object(t.a)(F),n=0;n<i.rows;n++)for(var s=0;s<i.cols;s++)F[n][s].isMine&&(e[n][s].isRevealed=!0);W(e),v({gameOver:!0,gameWon:!1}),alert("Game Over")}();else{var r=Object(t.a)(F);r[n][s].isRevealed=!0,W(r),p(h+1)}},C=function(e){return e.isRevealed&&e.isMine?Object(s.jsx)(s.Fragment,{children:"\ud83d\udca3"}):e.isRevealed?Object(s.jsx)(s.Fragment,{children:e.neighborMines}):e.isFlagged?Object(s.jsx)(c.a,{style:{fontSize:"25px",color:"red"}}):void 0};return Object(s.jsxs)("div",{className:"my-info-outer-div","data-aos":"fade-up",style:{maxWidth:"100%"},children:[g.gameWon&&Object(s.jsx)(f.a,{}),Object(s.jsxs)("div",{className:"game-settings",children:[Object(s.jsx)("div",{className:"my-info-heading",children:"Mine Sweeper"}),Object(s.jsxs)("div",{style:{margin:"20px"},children:[Object(s.jsx)(c.a,{style:{fontSize:"25px",color:"red"}}),Object(s.jsx)("span",{style:{marginRight:"20px",fontSize:"20px",color:"#fff"},children:i.mines-w}),Object(s.jsxs)(o.a,{defaultValue:"Beginner",disabled:h,style:{width:220},onChange:function(e){"Beginner"===e&&d({rows:10,cols:10,mines:15}),"Intermediate"===e&&d({rows:16,cols:16,mines:40}),"Expert"===e&&d({rows:16,cols:30,mines:99})},children:[Object(s.jsx)(u,{value:"Beginner",children:"Beginner"}),Object(s.jsx)(u,{value:"Intermediate",children:"Intermediate"})]}),Object(s.jsx)(l.a,{type:"primary",onClick:function(){N()},style:{marginLeft:"10px"},children:"Reset"})]})]}),Object(s.jsx)("div",{children:F.map((function(e,n){return Object(s.jsx)("div",{className:"minesweeper-row",children:e.map((function(e,r){return Object(s.jsx)("div",{className:"minesweeper-cell minesweeper-cell-color-"+e.neighborMines,onContextMenu:function(e){return function(e,n,s){if(e.preventDefault(),!g.gameOver&&!g.gameWon&&!F[n][s].isRevealed){var r=Object(t.a)(F);if(F[n][s].isFlagged)r[n][s].isFlagged=!1,y(w-1);else{if(w===i.mines)return;r[n][s].isFlagged=!0,y(w+1)}W(r)}}(e,n,r)},onClick:function(e){return B(e,n,r)},children:C(e)},r)}))},n)}))})]})}}}]);
//# sourceMappingURL=28.730e46be.chunk.js.map